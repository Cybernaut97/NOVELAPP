<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Dashboard</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Latest compiled JavaScript -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"
        integrity="sha384-MVf1GZu8wVJh2GNYshBnN+ei9d9tVnsNlCmyOH+VpAsZnN/7wITi2QBJaoG0plNE"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>


    <style>
        .navbar-logo {
            height: 50px;
            /* Adjust the height according to your preference */
            width: auto;
            /* Maintain the aspect ratio */
            margin-right: 10px;
            /* Add some space between the logo and other elements */
        }

        .nav-link-spacing {
            margin-right: 10px;
            /* Adjust the value to your preference */
        }
    </style>
</head>

<body>
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light bg-light container my-3">
            <!-- <a class="navbar-brand" href="#">Novel Ice Cream</a> -->
            <img src="\static\images\Novel_logo.png" class="Novel navbar-logo" alt="Novel">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <a href="/dashboard" class="btn btn-info nav-link-spacing">Dashboard</a>
                    <li class="nav-item">
                        <a class="btn btn-danger" href="/logout">Logout</a>
                    </li>
                </ul>
            </div>
        </nav>
        <h1 class="my-4">Edit Ice Cream Shop</h1>
        <form class="my-4" action="/ice_cream_shops/update/{{ice_cream_shop.id}}" method="POST">
            <div class="form-group">
                <label for="name">Name:</label>
                <input class="form-control" type="text" id="name" name="name" value="{{ ice_cream_shop.name }}" required>
            </div>
            <div class="form-group">
                <label for="address">Address:</label>
                <input class="form-control" type="text" id="address" name="address" value="{{ ice_cream_shop.address }}" required>
            </div>
            <div class="form-group">
                <label for="phone_number">Phone Number:</label>
                <input class="form-control" type="text" id="phone_number" name="phone_number" value="{{ ice_cream_shop.phone_number }}" required>
            </div>
            <!-- New field for Square Location ID -->
            <div class="form-group">
                <label for="square_location_id">Square Location ID:</label>
                <input class="form-control" type="text" id="square_location_id" name="square_location_id" value="{{ ice_cream_shop.square_location_id }}">
            </div>
            <button class="btn btn-primary" type="submit">Update</button>
        </form>
        

        <h2>Assign User to Shop</h2>
        <form action="/ice_cream_shops/{{ice_cream_shop.id}}/assign_user" method="POST">
            <div class="form-group">
                <label for="user_id">Select User:</label>
                <select class="form-control" id="user_id" name="user_id">
                    {% for user in all_users %}
                    <option value="{{ user.id }}">{{ user.full_name() }}</option>
                    {% endfor %}
                </select>
            </div>
            <button class="btn btn-success" type="submit">Assign User</button>
        </form>

        <h2>Remove User from Shop</h2>
        <form action="/ice_cream_shops/{{ice_cream_shop.id}}/remove_user" method="POST">
            <button class="btn btn-danger" type="submit">Remove User</button>
        </form>

        <h2>Add New User</h2>
        <form action="/users/create" method="POST">
            <div class="form-group">
                <label for="first_name">First Name:</label>
                <input class="form-control" type="text" id="first_name" name="first_name" required>
            </div>
            <div class="form-group">
                <label for="last_name">Last Name:</label>
                <input class="form-control" type="text" id="last_name" name="last_name" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input class="form-control" type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input class="form-control" type="password" id="password" name="password" required>
            </div>
            <button class="btn btn-primary" type="submit">Add User</button>
        </form>
    </div>
</body>
</html>